{% extends 'base.html' %}
{% block content %}
<div class="container my-4">
  <h3 class="text-center">Login</h3>

  <form method="POST" id="loginForm">
    {{ form.hidden_tag() }}

    <div class="mb-3">
      {{ form.profile_type.label }}
      {{ form.profile_type(class="form-select", id="profileType") }}
    </div>

    <div class="mb-3">
      <label id="identifierLabel" for="identifierInput">Identifier</label>
      {{ form.identifier(class="form-control", id="identifierInput") }}
    </div>

    <div class="mb-3">
      {{ form.password.label }} {{ form.password(class="form-control") }}
    </div>

    <div class="d-grid">
      <button class="btn btn-primary btn-lg">Login</button>
    </div>
  </form>
</div>
{% endblock %}

{% block scripts %}
<script>
$(document).ready(function() {
  function updateLabel() {
    var selected = $('#profileType').val();
    if (selected === 'user') {
      $('#identifierLabel').text('National ID');
    } else {
      $('#identifierLabel').text('Employee ID');
    }
  }

  $('#profileType').change(updateLabel);
  updateLabel(); // run once on page load
});
</script>
{% endblock %}
